## 组件说明
支持Redis，EhCache, HashMap， LRUHashMap四种方式，默认使用HashMap实现，Redis缓存需要通过配置开启。
开发期可根据实际需要配置缓存扩展文件 classpath*:/META-INF/jt-cache/jt.cache.json 指定缓存策略。

## 缓存配置
application.properties属性文件中配置，如下

```
	#缓存是否开启集群配置
    cache.cluster.enabled=true
    #redis服务地址（多个用“,”分隔）。服务ip和端口，无密码不填写requirepass的值。
    cache.redis.server=ip:port?requirepass=
    #appid
    cache.tenant.appid=ecp8.0
```

## 配置缓存扩展文件
扩展文件存放路径与命名如下： classpath*:/META-INF/jt-cache/jt.cache.json

```
[{
    "classId":"TestCache",
    "typeId":"testcache",
    "maxElementsInMemory":"1000",
    "maxBytesInMemory":"10m",
    "eternal":"false",
    "cacheType":"redis",
    "evcitionPolicy":"lru",
    "maxElementsOnDisk":"0",
    "maxBytesOnDisk":"10m",
    "timeToIdleSeconds":"30m",
    "timeToLiveSeconds":"1h",
    "overflowToDisk":"false",
    "transactionalMode":"off",
    "replicatePut":"false",
    "replicateUpdate":"false",
    "replicateRemove":"false",
    "replicateAsyn":"false",
    "groupCode":""
}]
```

| 属性名称            | 说明                                                         |
| ------------------- | ------------------------------------------------------------ |
| classId             | 类别编号，必填属性                                           |
| typeId              | 类型编号                                                     |
| maxElementsInMemory | 设置基于内存的缓存可存放对象的最大数目，必填属性；注意该选项和maxBytesInMemory互斥，二者设置只能选一，如果二者都设置将忽略maxElementsInMemory设置;如果设置为0则表示无个数限制 |
| maxBytesInMemory    | 设置基于内存的缓存可存放对象的最大字节数,可输入(G/M/K/B）    |
| eternal             | 如果为true,表示缓存对象永远不会过期，此时将会会忽略timeToIdleSeconds和timeToLiveSeconds属性，默认为false，必填属性 |
| cacheType           | 缓存类型（ehcache，redis）                                   |
| maxElementsOnDisk   | 设置基于硬盘的缓存可存放对象的最大数，注意该选项和maxBytesOnDisk互斥，二者设置只能选一，如果都设置将忽略maxElementsOnDisk设置 |
| maxBytesOnDisk      | 设置基于磁盘的缓存可存放对象的最大字节数,可输入(G/M/K/B)     |
| evcitionPolicy      | 缓存对象清除策略,默认LRU(一段时间内最少使用),可输入(FIFO、LFU、LRU) |
| timeToLiveSeconds   | 缓存失效时间,对象存活的最长时间，以秒为单位                  |
| timeToIdleSeconds   | 设定允许对象处于空闲状态的最长时间,以秒为单位.当对象自从最近一次被访问后,如果处于空闲状态的时间超过了timeToIdleSeconds属性值,这个对象就会过期,当对象过期,将把它从缓存中清空.只有当eternal属性为false,该属性才有效.如果该属性值为0,表示对象可以无限期地处于空闲状态,可输入(天/时/分/秒) |
| replicatePut        | 是否缓存写入时给集群发送通知 (true、false) 默认false         |
| replicateUpdate     | 是否缓存更新时给集群发送通知 (true、false) 默认true          |
| replicateRemove     | 是否缓存移除时给集群发送通知 (true、false) 默认false         |
| replicateAsyn       | 是否异步给集群发送通知 (true、false) 默认false(同步发送)     |
| groupCode           | 缓存分组，扩展缓存使用（业务模式库和业务库部署在不同注册中心时，业务库的缓存需要指向业务模式库注册中心的缓存，以解决缓存不同步问题，业务模式库目前的分组名定义约定为：globalConfig） |

## 接口 说明
    -JT.component.cache.getCacheService(classId, typId) 根据类型和类别编号获取缓存操作接口.
    -JT.component.cache.getCacheService(cacheTopic)  根据主题获取缓存接口.
    -JT.component.cache.getTimeExpireCache()  获取一个添加进程内时间过期缓存，作用域为进程级别.
    -JT.component.cache.getThreadCache() 获取一个线程缓存接口实现，作用域为线程级别.
    -JT.component.cache.getLRUCache(cacheTopic) 返回一个指定名称的LRU缓存仓库实现
    -JT.component.cache.getQueryCacheService(classID, typeID) 根据类型和类别编号获取查询缓存接口
    -JT.component.cache.getQueryCacheService(cacheTopic)  根据主题获取查询缓存接口.