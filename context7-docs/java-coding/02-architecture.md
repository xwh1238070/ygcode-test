# Java åç«¯ç¼–ç æ™ºèƒ½ä½“ - æ¶æ„æ–‡æ¡£

## é¡¹ç›®æ¶æ„æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ Java åç«¯é¡¹ç›®çš„æ¶æ„è®¾è®¡ã€åˆ†å±‚ç»“æ„å’Œå„å±‚èŒè´£ã€‚

## åˆ†å±‚æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Controller å±‚                        â”‚
â”‚              (HTTP è¯·æ±‚å¤„ç†ã€å‚æ•°æ ¡éªŒ)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Service å±‚                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚         â”‚  Application     â”‚     Query        â”‚         â”‚
â”‚         â”‚  (ä¸šåŠ¡æœåŠ¡)      â”‚   (æŸ¥è¯¢æœåŠ¡)     â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DAO å±‚                             â”‚
â”‚              (æ•°æ®è®¿é—®ã€æ•°æ®åº“æ“ä½œ)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Domain å±‚                            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚         â”‚   VO   â”‚   BO   â”‚   PO   â”‚ Transfer â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘

```
è¯·æ±‚ â†’ Controller â†’ Service â†’ DAO â†’ Database
                      â†“
                   Domain
                (VO/BO/PO/Transfer)
```

## å®Œæ•´é¡¹ç›®ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com.ygsoft.{äº§å“åŸŸ}.{æ¨¡å—ç®€ç§°}/
â”‚   â”‚   â”‚       â”œâ”€â”€ boot/                    # åº”ç”¨å¯åŠ¨
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ Application.java     # å¯åŠ¨ç±»
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ controller/              # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ XxxController.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ YyyController.java
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ domain/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ vo/                  # è§†å›¾å¯¹è±¡
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ XxxVO.java
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ YyyVO.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ bo/                  # ä¸šåŠ¡å¯¹è±¡
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ XxxBO.java
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ YyyBO.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ po/                  # æŒä¹…åŒ–å¯¹è±¡
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ XxxPO.java
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ YyyPO.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ transfer/            # æ¨¡å‹è½¬æ¢
â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ XxxTransfer.java
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ YyyTransfer.java
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ service/                 # æœåŠ¡å±‚
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ application/         # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ XxxService.java
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ impl/
â”‚   â”‚   â”‚       â”‚   â”‚       â””â”€â”€ XxxServiceImpl.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ query/               # æŸ¥è¯¢æœåŠ¡
â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ XxxQueryService.java
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ impl/
â”‚   â”‚   â”‚       â”‚           â””â”€â”€ XxxQueryServiceImpl.java
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ infrastructure/          # åŸºç¡€è®¾æ–½
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ util/                # å·¥å…·ç±»
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DateUtil.java
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ StringUtil.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ config/              # é…ç½®ç±»
â”‚   â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ DataSourceConfig.java
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ RedisConfig.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ constant/            # å¸¸é‡ç±»
â”‚   â”‚   â”‚       â”‚       â”œâ”€â”€ CommonConstant.java
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ ErrorCodeConstant.java
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ dao/                     # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ XxxDao.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ impl/
â”‚   â”‚   â”‚       â”‚       â””â”€â”€ XxxDaoImpl.java
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ schedule/                # å®šæ—¶ä»»åŠ¡
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ XxxSchedule.java
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â””â”€â”€ consumer/                # æ¶ˆæ¯æ¶ˆè´¹è€…
â”‚   â”‚   â”‚           â””â”€â”€ XxxConsumer.java
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ resources/                       # èµ„æºæ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ application.yml              # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚       â””â”€â”€ META-INF/                    # å…ƒä¿¡æ¯é…ç½®
â”‚   â”‚           â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â”‚           â”‚   â”œâ”€â”€ app/                 # åº”ç”¨ä¿¡æ¯é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ class/               # ç±»åˆ«é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ domain/              # é¢†åŸŸé…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ enum/                # æšä¸¾é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ featureobj/          # æ¨¡å‹ç‰¹æ€§é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ home/                # åº”ç”¨é—¨æˆ·é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ inputermeta/         # æ¨¡å‹è¾“å…¥å™¨é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ login/               # é—¨æˆ·ç™»å½•é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ metamodel/           # å…ƒæ¨¡å‹é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ process/             # æµç¨‹é…ç½®
â”‚   â”‚           â”‚   â”œâ”€â”€ rule/                # è§„åˆ™ç‰¹æ€§é…ç½®
â”‚   â”‚           â”‚   â””â”€â”€ scene/               # åœºæ™¯é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-login/               # ç™»å½•é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-sql/                 # SQL é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-security/            # å®‰å…¨é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-cache/               # ç¼“å­˜é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-i18n/                # å›½é™…åŒ–æ–‡ä»¶
â”‚   â”‚           â”œâ”€â”€ ecp-mapp/                # æ˜ å°„é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-scheduler/           # è°ƒåº¦é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-spring/              # Spring é…ç½®
â”‚   â”‚           â”œâ”€â”€ ecp-audit/               # å®¡è®¡é…ç½®
â”‚   â”‚           â””â”€â”€ jt-tflow-processmodel/   # æµç¨‹ç›®å½•
â”‚   â”‚
â”‚   â””â”€â”€ test/                                # æµ‹è¯•ä»£ç 
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com.ygsoft.{äº§å“åŸŸ}.{æ¨¡å—ç®€ç§°}/
â”‚               â””â”€â”€ XxxTest.java
â”‚
â””â”€â”€ pom.xml                                  # Maven é…ç½®
```

## å„å±‚è¯¦ç»†è¯´æ˜

### 1. Boot å±‚

**èŒè´£**: åº”ç”¨å¯åŠ¨å’Œåˆå§‹åŒ–

**å…³é”®è¦æ±‚**:
- Boot ç±»å¿…é¡»ç»§æ‰¿ `SpringBootServletInitializer`
- åŒ…å« `@SpringBootApplication` æ³¨è§£
- è´Ÿè´£åº”ç”¨çš„å¯åŠ¨å’Œé…ç½®åˆå§‹åŒ–

**ç¤ºä¾‹**:
```java
@SpringBootApplication
public class Application extends SpringBootServletInitializer {
    
    @Override
    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {
        return builder.sources(Application.class);
    }
    
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

### 2. Controller å±‚

**èŒè´£**: HTTP è¯·æ±‚å¤„ç†

**æ ¸å¿ƒåŠŸèƒ½**:
- æ¥æ”¶å’ŒéªŒè¯ HTTP è¯·æ±‚å‚æ•°
- è°ƒç”¨ Service å±‚å¤„ç†ä¸šåŠ¡é€»è¾‘
- è¿”å›ç»Ÿä¸€æ ¼å¼çš„å“åº”ç»“æœ
- ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

**å‘½åè§„èŒƒ**: `[ä¸šåŠ¡åŠŸèƒ½] + Controller`

**å…³é”®æ³¨è§£**:
- `@RestController`: æ ‡è¯†ä¸º REST æ§åˆ¶å™¨
- `@RequestMapping`: å®šä¹‰è¯·æ±‚è·¯å¾„
- `@EcpPostMapping` / `@EcpGetMapping`: è‡ªå®šä¹‰è¯·æ±‚æ˜ å°„
- `@ApiOperation`: Swagger æ¥å£è¯´æ˜
- `@ApiImplicitParams`: å‚æ•°è¯´æ˜

**URL æ ¼å¼**:
```
{securitydomain}/{vipaddress}/{è¯»å†™åˆ†ç¦»æ ‡è¯†}/model/{modelname}/
```

**å®‰å…¨åŸŸç±»å‹**:
- `inner`: ç³»ç»Ÿå†…éƒ¨å¾®æœåŠ¡è°ƒç”¨ï¼ˆå±€åŸŸç½‘ IP é™åˆ¶ï¼‰
- `member`: å‰ç«¯åº”ç”¨è°ƒç”¨
- `outer`: ä¸åŒç³»ç»Ÿé—´è°ƒç”¨ï¼ˆåº”ç”¨é‰´æƒï¼‰
- `open`: å¯¹å¤–å¼€æ”¾æ¥å£ï¼ˆåº”ç”¨é‰´æƒï¼‰

**è¯»å†™åˆ†ç¦»æ ‡è¯†**:
- `service`: ç®¡ç†ç±»ï¼ˆå†™æ“ä½œï¼‰
- `query`: æŸ¥è¯¢ç±»ï¼ˆè¯»æ“ä½œï¼‰

**è¿”å›å€¼**: ç»Ÿä¸€ä½¿ç”¨ `CommonResult<T>`

### 3. Service å±‚

**èŒè´£**: ä¸šåŠ¡é€»è¾‘å¤„ç†

#### 3.1 Application Serviceï¼ˆä¸šåŠ¡æœåŠ¡ï¼‰

**èŒè´£**:
- å¤„ç†å¤æ‚ä¸šåŠ¡é€»è¾‘
- äº‹åŠ¡ç®¡ç†
- ä¸šåŠ¡è§„åˆ™å®ç°
- æ•°æ®éªŒè¯å’Œè½¬æ¢

**å‘½åè§„èŒƒ**: `[ä¸šåŠ¡åŠŸèƒ½] + Service`

**ç¤ºä¾‹**:
```java
@Service
@Transactional
public class UserServiceImpl implements UserService {
    
    @Autowired
    private UserDao userDao;
    
    @Override
    public void createUser(UserBO userBO) {
        // ä¸šåŠ¡é€»è¾‘å¤„ç†
        // æ•°æ®éªŒè¯
        // è°ƒç”¨ DAO å±‚
    }
}
```

#### 3.2 Query Serviceï¼ˆæŸ¥è¯¢æœåŠ¡ï¼‰

**èŒè´£**:
- ä¸“æ³¨äºæ•°æ®æŸ¥è¯¢
- ä¸æ¶‰åŠæ•°æ®ä¿®æ”¹
- ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½

**å‘½åè§„èŒƒ**: `[ä¸šåŠ¡åŠŸèƒ½] + QueryService`

**ç‰¹ç‚¹**:
- åªè¯»æ“ä½œï¼Œä¸å¼€å¯äº‹åŠ¡
- å¯ä»¥ç›´æ¥è¿”å› VO å¯¹è±¡
- æ”¯æŒå¤æ‚æŸ¥è¯¢å’Œåˆ†é¡µ

### 4. DAO å±‚

**èŒè´£**: æ•°æ®è®¿é—®å’ŒæŒä¹…åŒ–

**æŠ€æœ¯é€‰å‹**:
- **JPA**: ç®€å•çš„å¢åˆ æ”¹æŸ¥
- **ORMap æ¡†æ¶**: å¤æ‚æŸ¥è¯¢å’ŒåŠ¨æ€ SQL

**å‘½åè§„èŒƒ**: `[å®ä½“å] + Dao`

**JPA ä½¿ç”¨åœºæ™¯**:
- ä¸éœ€è¦ `@Query` æˆ– `@Native` æ³¨è§£çš„æ“ä½œ
- ç®€å•çš„ CRUD æ“ä½œ
- åŸºäºæ–¹æ³•åçš„æŸ¥è¯¢

**ORMap ä½¿ç”¨åœºæ™¯**:
- å¤æ‚çš„ SQL æŸ¥è¯¢
- åŠ¨æ€ SQL æ‹¼æ¥
- éœ€è¦å…¼å®¹å¤šæ•°æ®åº“

**SQL é…ç½®ä½ç½®**: `META-INF/ecp-sql/` ç›®å½•

### 5. Domain å±‚

**èŒè´£**: æ•°æ®æ¨¡å‹å®šä¹‰

#### 5.1 VO (View Object) - è§†å›¾å¯¹è±¡

**ç”¨é€”**: Controller å±‚ä¸å‰ç«¯äº¤äº’

**ç‰¹ç‚¹**:
- åŒ…å«å‰ç«¯éœ€è¦çš„å­—æ®µ
- å¯èƒ½åŒ…å«æ ¼å¼åŒ–åçš„æ•°æ®
- ç”¨äºæ¥æ”¶è¯·æ±‚å‚æ•°å’Œè¿”å›å“åº”

**ç¤ºä¾‹**:
```java
@ApiModel("ç”¨æˆ·è§†å›¾å¯¹è±¡")
public class UserVO {
    
    @ApiModelProperty("ç”¨æˆ·ID")
    private Long userId;
    
    @ApiModelProperty("ç”¨æˆ·å")
    private String userName;
    
    @ApiModelProperty("åˆ›å»ºæ—¶é—´")
    private String createTime;  // æ ¼å¼åŒ–åçš„æ—¶é—´å­—ç¬¦ä¸²
    
    // getter/setter
}
```

#### 5.2 BO (Business Object) - ä¸šåŠ¡å¯¹è±¡

**ç”¨é€”**: Service å±‚å†…éƒ¨ä½¿ç”¨

**ç‰¹ç‚¹**:
- åŒ…å«ä¸šåŠ¡é€»è¾‘éœ€è¦çš„å­—æ®µ
- å¯èƒ½åŒ…å«è®¡ç®—å­—æ®µ
- ç”¨äºä¸šåŠ¡å¤„ç†è¿‡ç¨‹

**ç¤ºä¾‹**:
```java
public class UserBO {
    
    private Long userId;
    private String userName;
    private Date createTime;
    private Integer age;  // è®¡ç®—å­—æ®µ
    
    // ä¸šåŠ¡æ–¹æ³•
    public boolean isAdult() {
        return age >= 18;
    }
    
    // getter/setter
}
```

#### 5.3 PO (Persistent Object) - æŒä¹…åŒ–å¯¹è±¡

**ç”¨é€”**: ä¸æ•°æ®åº“è¡¨å¯¹åº”

**ç‰¹ç‚¹**:
- ä½¿ç”¨ JPA æ³¨è§£
- å­—æ®µä¸æ•°æ®åº“åˆ—ä¸€ä¸€å¯¹åº”
- ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

**ç¤ºä¾‹**:
```java
@Entity
@Table(name = "TBL_USER")
public class UserPO {
    
    @Id
    @Column(name = "USER_ID", length = 20)
    private Long userId;
    
    @Column(name = "USER_NAME", length = 50)
    private String userName;
    
    @Column(name = "CREATE_TIME")
    private Date createTime;
    
    // getter/setter
}
```

#### 5.4 Transfer - æ¨¡å‹è½¬æ¢

**ç”¨é€”**: ä¸åŒæ¨¡å‹é—´çš„è½¬æ¢

**ç‰¹ç‚¹**:
- æä¾›é™æ€è½¬æ¢æ–¹æ³•
- å¤„ç†å­—æ®µæ˜ å°„å’Œæ ¼å¼è½¬æ¢
- é¿å…åœ¨ä¸šåŠ¡ä»£ç ä¸­è¿›è¡Œè½¬æ¢

**ç¤ºä¾‹**:
```java
public class UserTransfer {
    
    public static UserBO voToBo(UserVO vo) {
        UserBO bo = new UserBO();
        bo.setUserId(vo.getUserId());
        bo.setUserName(vo.getUserName());
        // è½¬æ¢é€»è¾‘
        return bo;
    }
    
    public static UserVO boToVo(UserBO bo) {
        UserVO vo = new UserVO();
        vo.setUserId(bo.getUserId());
        vo.setUserName(bo.getUserName());
        // æ ¼å¼åŒ–æ—¶é—´
        vo.setCreateTime(DateUtil.format(bo.getCreateTime()));
        return vo;
    }
    
    public static UserPO boToPo(UserBO bo) {
        UserPO po = new UserPO();
        po.setUserId(bo.getUserId());
        po.setUserName(bo.getUserName());
        po.setCreateTime(bo.getCreateTime());
        return po;
    }
}
```

### 6. Infrastructure å±‚

**èŒè´£**: æä¾›æŠ€æœ¯æ”¯æŒå’Œé€šç”¨åŠŸèƒ½

#### 6.1 Util - å·¥å…·ç±»

**ç‰¹ç‚¹**:
- æä¾›é™æ€æ–¹æ³•
- æ— çŠ¶æ€
- å¯å¤ç”¨

**å¸¸è§å·¥å…·ç±»**:
- `DateUtil`: æ—¥æœŸå¤„ç†
- `StringUtil`: å­—ç¬¦ä¸²å¤„ç†
- `JsonUtil`: JSON è½¬æ¢
- `CollectionUtil`: é›†åˆæ“ä½œ

#### 6.2 Config - é…ç½®ç±»

**ç‰¹ç‚¹**:
- ä½¿ç”¨ `@Configuration` æ³¨è§£
- å®šä¹‰ Bean
- é…ç½®ç¬¬ä¸‰æ–¹ç»„ä»¶

**ç¤ºä¾‹**:
```java
@Configuration
public class RedisConfig {
    
    @Bean
    public RedisTemplate<String, Object> redisTemplate(
            RedisConnectionFactory factory) {
        RedisTemplate<String, Object> template = new RedisTemplate<>();
        template.setConnectionFactory(factory);
        // é…ç½®åºåˆ—åŒ–
        return template;
    }
}
```

#### 6.3 Constant - å¸¸é‡ç±»

**ç‰¹ç‚¹**:
- å®šä¹‰ç³»ç»Ÿå¸¸é‡
- ä½¿ç”¨ `public static final`
- æŒ‰åŠŸèƒ½åˆ†ç±»

**ç¤ºä¾‹**:
```java
public class CommonConstant {
    
    public static final String SUCCESS_CODE = "0";
    public static final String ERROR_CODE = "1";
    
    public static final int DEFAULT_PAGE_SIZE = 20;
    public static final int MAX_PAGE_SIZE = 1000;
}
```

### 7. Schedule å±‚

**èŒè´£**: å®šæ—¶ä»»åŠ¡å¤„ç†

**ç‰¹ç‚¹**:
- ä½¿ç”¨ `@Scheduled` æ³¨è§£
- é…ç½®æ‰§è¡Œå‘¨æœŸ
- å¤„ç†å®šæ—¶ä¸šåŠ¡é€»è¾‘

**ç¤ºä¾‹**:
```java
@Component
public class DataSyncSchedule {
    
    @Scheduled(cron = "0 0 2 * * ?")  // æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
    public void syncData() {
        // å®šæ—¶ä»»åŠ¡é€»è¾‘
    }
}
```

### 8. Consumer å±‚

**èŒè´£**: æ¶ˆæ¯é˜Ÿåˆ—æ¶ˆè´¹

**ç‰¹ç‚¹**:
- ç›‘å¬æ¶ˆæ¯é˜Ÿåˆ—
- å¤„ç†å¼‚æ­¥æ¶ˆæ¯
- å®ç°äº‹ä»¶é©±åŠ¨

**ç¤ºä¾‹**:
```java
@Component
public class OrderConsumer {
    
    @RabbitListener(queues = "order.queue")
    public void handleOrderMessage(String message) {
        // å¤„ç†è®¢å•æ¶ˆæ¯
    }
}
```

## ä»£ç å¤æ‚åº¦è§„èŒƒ

### æ–‡ä»¶çº§åˆ«
- å•ä¸ª Java ç±»æ–‡ä»¶æœ€å¤§é•¿åº¦: **1000 è¡Œ**ï¼ˆå«æ³¨é‡Šï¼‰
- å•è¡Œæœ€å¤§é•¿åº¦: **120 ä¸ªå­—ç¬¦**

### æ–¹æ³•çº§åˆ«
- å•ä¸ªæ–¹æ³•æœ€å¤§é•¿åº¦: **50 è¡Œ**
- æ–¹æ³•å‚æ•°ä¸ªæ•°: **ä¸è¶…è¿‡ 7 ä¸ª**ï¼ˆè¶…è¿‡åˆ™å°è£…ä¸ºå¯¹è±¡ï¼‰
- åŒ¿åç±»ä»£ç è¡Œæ•°: **ä¸è¶…è¿‡ 20 è¡Œ**

### SQL è§„èŒƒ
- ä¸å…è®¸åœ¨ Java ä»£ç ä¸­åŒ…å« SQL è¯­å¥
- SQL è¯­å¥å¿…é¡»æ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­

## ä¾èµ–å…³ç³»

```
Controller â†’ Service â†’ DAO â†’ Database
    â†“          â†“        â†“
   VO    â†’    BO   â†’   PO
         Transfer
```

**ä¾èµ–åŸåˆ™**:
1. ä¸Šå±‚å¯ä»¥ä¾èµ–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸èƒ½ä¾èµ–ä¸Šå±‚
2. åŒå±‚ä¹‹é—´é¿å…å¾ªç¯ä¾èµ–
3. Infrastructure å±‚å¯è¢«æ‰€æœ‰å±‚ä¾èµ–

## é…ç½®æ–‡ä»¶ç»„ç»‡

### application.yml
ä¸»é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«:
- æ•°æ®æºé…ç½®
- Redis é…ç½®
- æ—¥å¿—é…ç½®
- åº”ç”¨ç«¯å£ç­‰

### META-INF é…ç½®
æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡:
- `ecp-sql/`: SQL è¯­å¥é…ç½®
- `ecp-cache/`: ç¼“å­˜é…ç½®
- `ecp-security/`: å®‰å…¨é…ç½®
- `ecp-i18n/`: å›½é™…åŒ–é…ç½®

## æœ€ä½³å®è·µ

### 1. é¢å‘æ¥å£ç¼–ç¨‹
- Service å±‚å®šä¹‰æ¥å£
- DAO å±‚å®šä¹‰æ¥å£
- é€šè¿‡æ¥å£è¿›è¡Œä¾èµ–æ³¨å…¥

### 2. å•ä¸€èŒè´£
- æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- æ¯ä¸ªæ–¹æ³•åªåšä¸€ä»¶äº‹
- é¿å…ä¸Šå¸ç±»

### 3. ä¾èµ–æ³¨å…¥
- ä½¿ç”¨ `@Autowired` æ³¨å…¥ä¾èµ–
- ä¼˜å…ˆä½¿ç”¨æ„é€ å™¨æ³¨å…¥
- é¿å…å¾ªç¯ä¾èµ–

### 4. å¼‚å¸¸å¤„ç†
- ä½¿ç”¨ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸
- è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

### 5. äº‹åŠ¡ç®¡ç†
- åœ¨ Service å±‚ä½¿ç”¨ `@Transactional`
- åˆç†è®¾ç½®äº‹åŠ¡ä¼ æ’­çº§åˆ«
- æ³¨æ„äº‹åŠ¡è¾¹ç•Œ

## ä¸‹ä¸€æ­¥

- ğŸ”„ æŸ¥çœ‹ [æ‰§è¡Œæµç¨‹](./03-workflow.md) äº†è§£æ™ºèƒ½ä½“å·¥ä½œæµç¨‹
- ğŸ“ å‚è€ƒ [ç¼–ç è§„èŒƒ](./04-coding-standards.md) äº†è§£è¯¦ç»†çš„ä»£ç è§„èŒƒ
- ğŸ—„ï¸ å­¦ä¹  [SQL è§„èŒƒ](./05-sql-standards.md) äº†è§£æ•°æ®åº“è®¾è®¡è§„èŒƒ
