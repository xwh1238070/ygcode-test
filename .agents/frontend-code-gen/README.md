# 前端代码生成智能体

## 概述

前端代码生成智能体是一个功能强大的AI助手，专门用于从需求文档生成高质量的UI4.0页面代码。它基于YJPL框架，支持中台组件集成和Mock数据生成。

## 主要功能

### 1. UI4.0页面开发
基于YJPL框架生成完整的UI4.0页面，包括：
- index.yjpl - 页面视图文件（模板继承）
- Business.ts - 业务逻辑文件
- Model.ts - 数据模型文件（包含metaModel、dataModel、stateModel）

### 2. 中台组件集成
正确集成各种中台组件，包括：
- 待办组件（待办数量统计、待办列表）
- 用户中心组件（组织选择、用户选择）
- 主数据选择控件（币种、枚举、科目、计量单位、组织）
- 业务中台组件（yjpl-template、yjpl-ui、yjpl-qzz等）

### 3. Mock数据生成
为前端开发生成完整的Mock数据配置，支持：
- GET/POST请求拦截
- 动态数据生成
- 延迟响应模拟
- 错误场景模拟
- 参数化数据生成

## 快速开始

### 安装智能体
1. 下载智能体文件
2. 将文件放到Cline的智能体目录
3. 重启Cline

### 使用智能体
1. 打开Cline
2. 上传UI需求文档或设计稿
3. 输入命令：`/frontend-code-gen-agent.md`
4. 获取生成的代码文件

## 支持的代码生成类型

### UI4.0页面生成
**输入**：UI需求文档或功能描述
**输出**：index.yjpl、Business.ts、Model.ts
**特点**：模板继承、数据驱动、中台组件集成

### 模板类型
- **list-template** - 列表查询页面（支持查询、筛选、多视图）
- **ywdj** - 业务单据页面（支持表单、子表、审批流程）

## 子智能体

主智能体支持多个专业的子智能体，根据页面类型自动调用相应的子智能体生成代码。

### 1. 查询界面子智能体
**文件**：`SUBAGENT/PUBLIC/query-interface-agent.md`

**职责**：生成查询类型的界面代码
- 查询面板配置
- 表格展示配置
- 工具栏按钮配置
- 多视图切换支持

**触发条件**：
- 需求中包含"查询"、"列表"、"搜索"等关键词
- 页面包含查询面板和表格展示
- 使用 list-template 模板

**参考示例**：`KNOWLEDGE/PUBLIC/示例代码/查询界面/`

### 2. 单据界面子智能体
**文件**：`SUBAGENT/PUBLIC/bill-interface-agent.md`

**职责**：生成单据类型的界面代码
- 表单字段配置
- 子表配置
- 审批流程配置
- 工具栏按钮配置

**触发条件**：
- 需求中包含"单据"、"表单"、"审批"等关键词
- 页面包含表单和子表
- 使用 ywdj 模板

**参考示例**：待创建

### 3. 对话框子智能体
**文件**：`SUBAGENT/PUBLIC/dialog-interface-agent.md`

**职责**：生成对话框类型的界面代码
- 对话框布局设计
- 对话框内容配置
- 按钮配置
- 事件处理

**触发条件**：
- 需求中包含"对话框"、"弹窗"、"模态框"等关键词
- 页面是独立的对话框组件

**参考示例**：待创建

### 子智能体调用流程
```
用户输入需求
  ↓
主智能体分析需求
  ↓
识别页面类型
  ↓
调用相应子智能体
  ↓
子智能体生成代码
  ↓
返回完整代码文件
```

## 技术栈

### UI4.0页面开发
- YJPL框架 8.5.0+
- Vue2
- TypeScript
- yjpl-ui组件库（68个组件）
- 中台组件库
- Mock数据支持

## 文件结构

```
frontend-code-gen/
├── agent.json                          # 智能体配置文件
├── frontend-code-gen-agent.md          # 智能体主文档
├── README.md                           # 本文件
├── KNOWLEDGE/
│   └── PUBLIC/
│       ├── 前端生成界面智能体综合指南.md    # 核心知识库
│       └── 平台组件md文档/                # 详细组件文档
├── SUBAGENT/
│   └── PUBLIC/（空）
└── RULE/
```

## 核心知识库

### 1. 前端生成界面智能体综合指南.md
完整的开发指南，包含：
- 模板选择策略（list-template vs ywdj）
- 代码结构规范（三层数据模型）
- 数据模型设计（MetaModel、DataModel、StateModel）
- 模板扩展技巧（plugins系统）
- 常见场景实现（5个典型场景）
- 组件库完整参考（68个组件）
- 中台组件集成（5大类组件）
- Mock数据规则（完整规则体系）
- 性能优化建议
- AI提示词模板（6个实用模板）

### 2. 平台组件md文档/
详细的组件文档，包含：
- 各组件的详细参数说明
- 使用示例
- API文档

## 核心规范

### UI4.0页面生成规范
1. 正确使用模板继承和plugins系统
2. 遵循三层数据模型（MetaModel、DataModel、StateModel）
3. 完整配置Business类和事件处理
4. 正确引入和使用中台组件
5. 遵循代码质量和ESLint规范

### 中台组件集成规范
1. 正确的组件版本和引入路径
2. 完整的参数配置
3. 正确的事件处理
4. 动态数据加载和缓存
5. 与现有页面逻辑的集成

### Mock数据生成规范
1. 数据结构与实际API一致
2. 支持参数化数据生成
3. 模拟网络延迟
4. 支持错误场景
5. 易于切换到实际API

## 常见问题

### Q: 生成的代码是否可以直接使用？
A: 是的，生成的代码遵循最佳实践和企业开发规范，可以直接集成到项目中。

### Q: 如何选择合适的模板？
A: 根据综合指南中的"模板选择策略"章节，根据页面特征选择 list-template（列表查询）或 ywdj（业务单据）。

### Q: 如何集成中台组件？
A: 根据综合指南中的"中台组件集成"章节，查阅相应组件的参数说明，智能体会自动识别需要的中台组件，并正确配置参数和事件处理。

### Q: 是否支持自定义配置？
A: 是的，可以在生成代码后进行自定义修改，或在生成前提供详细的配置需求。

### Q: 生成的Mock数据如何使用？
A: Mock数据配置文件可以直接集成到项目的mock目录中，支持自动拦截API请求。

### Q: 如何优化性能？
A: 根据综合指南中的"性能优化建议"章节，使用分页、虚拟滚动、事件委托等优化技术。

### Q: 支持哪些YJPL版本？
A: 支持YJPL 8.5.0+，推荐使用9.5.0+版本。

## 版本信息

- **智能体版本**：3.0.0
- **支持的YJPL版本**：8.5.0+
- **支持的UI4.0版本**：9.5.0+
- **最后更新**：2025-12-04

## 最佳实践

### 开发流程
1. **需求分析**：理解UI需求文档或设计稿
2. **架构设计**：规划页面结构和数据流
3. **代码生成**：使用智能体生成代码
4. **质量检查**：验证代码质量和设计稿还原度
5. **测试优化**：进行功能测试和性能优化
6. **文档交付**：提供使用文档和集成指南

### 代码质量
1. 遵循企业开发规范
2. 使用TypeScript确保类型安全
3. 遵循ESLint规范
4. 完整的代码注释
5. 清晰的代码结构

### 性能优化
1. 使用分页处理大数据
2. 避免深度监听整个对象
3. 使用虚拟滚动处理长列表
4. 事件委托优化
5. 用户体验优化

### 可维护性
1. 清晰的代码结构
2. 完整的文档
3. 单元测试
4. 代码审查
5. 持续改进

## 联系方式

如有问题或建议，请联系前端开发团队。

## 许可证

本智能体遵循企业内部开发规范，仅供内部使用。

---

**最后更新**：2025年12月4日
**维护团队**：前端开发团队
**文档版本**：v1.0.0
